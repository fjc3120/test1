<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="app">
        <div v-mydiy="'red'">div</div>
    </div>

    <script src="vue.js"></script>
    <script>
//        Vue.directive('mydiy',function (el, binding, vnode){ /*可以操纵真实DOM
//        1.el：指令所绑定的元素，可以用来直接操作 DOM 。
//         2.binding：一个对象{
//         name：指令名，不包括 v- 前缀 即 myDirect。
//         value：指令的绑定值，例如：v-my-directive="1 + 1" 中，绑定值为 2。
//         . . .
//         }
//        3. vnode：Vue 编译生成的虚拟节点(虚拟DOM)
//         */
////            console.log(el);
////            console.log(binding);
////            console.log(vnode);
//
//            el.style.backgroundColor = binding.value;
//
//        });


        /* ---- Vue.directive是定义全局的。
            *   局部的在new Vue（｛｝）里写 directive：｛'mydiy',bind（）｛｝，｝                        */
        Vue.directive('mydiy',{  /*钩子函数不用手动调用，达到下面的条件就自动调用*/
            bind(el, binding, vnode){ /*只调用一次，指令第一次绑定到元素时调用，定义初始化动作，*/
                console.log('bind');  /*bind是最开始触发的钩子函数*/
                el.style.backgroundColor = binding.value;
            },
            inserted(){ /*绑定到节点，被绑定元素插入父节点时调用*/
                console.log('inserted');
            },
            updata(){ /*组件更新，被绑定于元素所在的模板更新时调用，*/
                console.log('updata');
            },
            componentUpdataed(){ /*组件更新完成，被绑定元素所在模板完成一次更新周期时调用。*/
                console.log('componentUpdataed');
            },
            unbind(){ /*解绑，只调用一次，指令与元素解绑时调用*/
                console.log('unbind');
            },
        });

        let vm = new Vue({
            el: '#app',
            data: {},

        });

    </script>
</body>
</html>